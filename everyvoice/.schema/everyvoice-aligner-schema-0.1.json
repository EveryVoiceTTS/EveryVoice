{
  "$defs": {
    "AdamOptimizer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "learning_rate": {
          "default": 0.0001,
          "title": "Learning Rate",
          "type": "number"
        },
        "eps": {
          "default": 1e-08,
          "title": "Eps",
          "type": "number"
        },
        "weight_decay": {
          "default": 0.01,
          "title": "Weight Decay",
          "type": "number"
        },
        "betas": {
          "default": [
            0.9,
            0.98
          ],
          "maxItems": 2,
          "minItems": 2,
          "prefixItems": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ],
          "title": "Betas",
          "type": "array"
        },
        "name": {
          "default": "adam",
          "title": "Name",
          "type": "string"
        }
      },
      "title": "AdamOptimizer",
      "type": "object"
    },
    "AdamWOptimizer": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "learning_rate": {
          "default": 0.0001,
          "title": "Learning Rate",
          "type": "number"
        },
        "eps": {
          "default": 1e-08,
          "title": "Eps",
          "type": "number"
        },
        "weight_decay": {
          "default": 0.01,
          "title": "Weight Decay",
          "type": "number"
        },
        "betas": {
          "default": [
            0.9,
            0.98
          ],
          "maxItems": 2,
          "minItems": 2,
          "prefixItems": [
            {
              "type": "number"
            },
            {
              "type": "number"
            }
          ],
          "title": "Betas",
          "type": "array"
        },
        "name": {
          "default": "adamw",
          "title": "Name",
          "type": "string"
        }
      },
      "title": "AdamWOptimizer",
      "type": "object"
    },
    "AudioConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "min_audio_length": {
          "default": 0.4,
          "title": "Min Audio Length",
          "type": "number"
        },
        "max_audio_length": {
          "default": 11.0,
          "title": "Max Audio Length",
          "type": "number"
        },
        "max_wav_value": {
          "default": 32767.0,
          "title": "Max Wav Value",
          "type": "number"
        },
        "norm_db": {
          "default": -3.0,
          "title": "Norm Db",
          "type": "number"
        },
        "sil_threshold": {
          "default": 1.0,
          "title": "Sil Threshold",
          "type": "number"
        },
        "sil_duration": {
          "default": 0.1,
          "title": "Sil Duration",
          "type": "number"
        },
        "input_sampling_rate": {
          "default": 22050,
          "title": "Input Sampling Rate",
          "type": "integer"
        },
        "output_sampling_rate": {
          "default": 22050,
          "title": "Output Sampling Rate",
          "type": "integer"
        },
        "alignment_sampling_rate": {
          "default": 22050,
          "title": "Alignment Sampling Rate",
          "type": "integer"
        },
        "target_bit_depth": {
          "default": 16,
          "title": "Target Bit Depth",
          "type": "integer"
        },
        "alignment_bit_depth": {
          "default": 16,
          "title": "Alignment Bit Depth",
          "type": "integer"
        },
        "fft_window_frames": {
          "default": 1024,
          "title": "Fft Window Frames",
          "type": "integer"
        },
        "fft_hop_frames": {
          "default": 256,
          "title": "Fft Hop Frames",
          "type": "integer"
        },
        "f_min": {
          "default": 0,
          "title": "F Min",
          "type": "integer"
        },
        "f_max": {
          "default": 8000,
          "title": "F Max",
          "type": "integer"
        },
        "n_fft": {
          "default": 1024,
          "title": "N Fft",
          "type": "integer"
        },
        "n_mels": {
          "default": 80,
          "title": "N Mels",
          "type": "integer"
        },
        "spec_type": {
          "anyOf": [
            {
              "$ref": "#/$defs/AudioSpecTypeEnum"
            },
            {
              "type": "string"
            }
          ],
          "default": "mel-librosa",
          "title": "Spec Type"
        },
        "vocoder_segment_size": {
          "default": 8192,
          "title": "Vocoder Segment Size",
          "type": "integer"
        }
      },
      "title": "AudioConfig",
      "type": "object"
    },
    "AudioSpecTypeEnum": {
      "enum": [
        "mel",
        "mel-librosa",
        "linear",
        "raw"
      ],
      "title": "AudioSpecTypeEnum",
      "type": "string"
    },
    "DFAlignerExtractionMethod": {
      "enum": [
        "beam",
        "dijkstra"
      ],
      "title": "DFAlignerExtractionMethod",
      "type": "string"
    },
    "DFAlignerModelConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "lstm_dim": {
          "default": 512,
          "title": "Lstm Dim",
          "type": "integer"
        },
        "conv_dim": {
          "default": 512,
          "title": "Conv Dim",
          "type": "integer"
        }
      },
      "title": "DFAlignerModelConfig",
      "type": "object"
    },
    "DFAlignerTrainingConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "batch_size": {
          "default": 16,
          "title": "Batch Size",
          "type": "integer"
        },
        "save_top_k_ckpts": {
          "default": 5,
          "title": "Save Top K Ckpts",
          "type": "integer"
        },
        "ckpt_steps": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Ckpt Steps"
        },
        "ckpt_epochs": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": 1,
          "title": "Ckpt Epochs"
        },
        "max_epochs": {
          "default": 1000,
          "title": "Max Epochs",
          "type": "integer"
        },
        "max_steps": {
          "default": 100000,
          "title": "Max Steps",
          "type": "integer"
        },
        "finetune_checkpoint": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Finetune Checkpoint"
        },
        "training_filelist": {
          "default": "path/to/your/preprocessed/training_filelist.psv",
          "format": "path",
          "title": "Training Filelist",
          "type": "string"
        },
        "validation_filelist": {
          "default": "path/to/your/preprocessed/validation_filelist.psv",
          "format": "path",
          "title": "Validation Filelist",
          "type": "string"
        },
        "filelist_loader": {
          "title": "Filelist Loader",
          "type": "string"
        },
        "logger": {
          "$ref": "#/$defs/LoggerConfig"
        },
        "val_data_workers": {
          "default": 0,
          "title": "Val Data Workers",
          "type": "integer"
        },
        "train_data_workers": {
          "default": 4,
          "title": "Train Data Workers",
          "type": "integer"
        },
        "optimizer": {
          "anyOf": [
            {
              "$ref": "#/$defs/AdamOptimizer"
            },
            {
              "$ref": "#/$defs/AdamWOptimizer"
            }
          ],
          "title": "Optimizer"
        },
        "binned_sampler": {
          "default": true,
          "title": "Binned Sampler",
          "type": "boolean"
        },
        "plot_steps": {
          "default": 1000,
          "title": "Plot Steps",
          "type": "integer"
        },
        "extraction_method": {
          "allOf": [
            {
              "$ref": "#/$defs/DFAlignerExtractionMethod"
            }
          ],
          "default": "dijkstra"
        }
      },
      "title": "DFAlignerTrainingConfig",
      "type": "object"
    },
    "Dataset": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "label": {
          "default": "YourDataSet",
          "title": "Label",
          "type": "string"
        },
        "data_dir": {
          "default": "/please/create/a/path/to/your/dataset/data",
          "format": "path",
          "title": "Data Dir",
          "type": "string"
        },
        "textgrid_dir": {
          "anyOf": [
            {
              "format": "path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Textgrid Dir"
        },
        "filelist": {
          "default": "/please/create/a/path/to/your/dataset/filelist",
          "format": "path",
          "title": "Filelist",
          "type": "string"
        },
        "filelist_loader": {
          "title": "Filelist Loader",
          "type": "string"
        },
        "sox_effects": {
          "default": [
            [
              "channels",
              "1"
            ]
          ],
          "items": {},
          "title": "Sox Effects",
          "type": "array"
        }
      },
      "title": "Dataset",
      "type": "object"
    },
    "LoggerConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "description": "The logger configures all the information needed for where to store your experiment's logs and checkpoints.\nThe structure of your logs will then be:\n<name> / <version> / <sub_dir>\n<sub_dir> will be generated by calling <sub_dir_callable> each time the LoggerConfig is constructed.",
      "properties": {
        "name": {
          "default": "BaseExperiment",
          "title": "Name",
          "type": "string"
        },
        "save_dir": {
          "default": "logs_and_checkpoints",
          "format": "directory-path",
          "title": "Save Dir",
          "type": "string"
        },
        "sub_dir_callable": {
          "title": "Sub Dir Callable",
          "type": "string"
        },
        "version": {
          "default": "base",
          "title": "Version",
          "type": "string"
        }
      },
      "title": "LoggerConfig",
      "type": "object"
    },
    "PitchCalculationMethod": {
      "enum": [
        "pyworld",
        "cwt"
      ],
      "title": "PitchCalculationMethod",
      "type": "string"
    },
    "PreprocessingConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "dataset": {
          "default": "YourDataSet",
          "title": "Dataset",
          "type": "string"
        },
        "pitch_type": {
          "anyOf": [
            {
              "$ref": "#/$defs/PitchCalculationMethod"
            },
            {
              "type": "string"
            }
          ],
          "default": "pyworld",
          "title": "Pitch Type"
        },
        "pitch_phone_averaging": {
          "default": true,
          "title": "Pitch Phone Averaging",
          "type": "boolean"
        },
        "energy_phone_averaging": {
          "default": true,
          "title": "Energy Phone Averaging",
          "type": "boolean"
        },
        "value_separator": {
          "default": "--",
          "title": "Value Separator",
          "type": "string"
        },
        "train_split": {
          "default": 0.9,
          "max": 1.0,
          "min": 0.0,
          "title": "Train Split",
          "type": "number"
        },
        "dataset_split_seed": {
          "default": 1234,
          "title": "Dataset Split Seed",
          "type": "integer"
        },
        "save_dir": {
          "default": "preprocessed/YourDataSet",
          "format": "path",
          "title": "Save Dir",
          "type": "string"
        },
        "audio": {
          "$ref": "#/$defs/AudioConfig"
        },
        "path_to_audio_config_file": {
          "anyOf": [
            {
              "format": "file-path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Path To Audio Config File"
        },
        "source_data": {
          "items": {
            "$ref": "#/$defs/Dataset"
          },
          "title": "Source Data",
          "type": "array"
        }
      },
      "title": "PreprocessingConfig",
      "type": "object"
    },
    "Symbols": {
      "additionalProperties": true,
      "properties": {
        "silence": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          ],
          "default": [
            "<SIL>"
          ],
          "title": "Silence"
        },
        "pad": {
          "default": "_",
          "title": "Pad",
          "type": "string"
        },
        "punctuation": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            }
          ],
          "default": "-';:,.!?\u00a1\u00bf\u2014\u2026\"\u00ab\u00bb\u201c\u201d ",
          "title": "Punctuation"
        }
      },
      "title": "Symbols",
      "type": "object"
    },
    "TextConfig": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "additionalProperties": false,
      "properties": {
        "symbols": {
          "$ref": "#/$defs/Symbols"
        },
        "to_replace": {
          "additionalProperties": {
            "type": "string"
          },
          "default": {},
          "title": "To Replace",
          "type": "object"
        },
        "cleaners": {
          "items": {
            "type": "string"
          },
          "title": "Cleaners",
          "type": "array"
        }
      },
      "title": "TextConfig",
      "type": "object"
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "model": {
      "$ref": "#/$defs/DFAlignerModelConfig"
    },
    "path_to_model_config_file": {
      "anyOf": [
        {
          "format": "file-path",
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path To Model Config File"
    },
    "training": {
      "$ref": "#/$defs/DFAlignerTrainingConfig"
    },
    "path_to_training_config_file": {
      "anyOf": [
        {
          "format": "file-path",
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path To Training Config File"
    },
    "preprocessing": {
      "$ref": "#/$defs/PreprocessingConfig"
    },
    "path_to_preprocessing_config_file": {
      "anyOf": [
        {
          "format": "file-path",
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path To Preprocessing Config File"
    },
    "text": {
      "$ref": "#/$defs/TextConfig"
    },
    "path_to_text_config_file": {
      "anyOf": [
        {
          "format": "file-path",
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Path To Text Config File"
    }
  },
  "title": "DFAlignerConfig",
  "type": "object"
}
